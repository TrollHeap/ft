CC      = gcc
CFLAGS  = -Wall -Wextra -Werror

SRC_DIR = src
BIN_DIR = bin

SRC     = $(wildcard $(SRC_DIR)/*.c)
BIN     = $(patsubst $(SRC_DIR)/%.c, $(BIN_DIR)/%, $(SRC))

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#  RÃ¨gle principale : tout compiler
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
all: $(BIN)
	@echo "âœ… Compilation terminÃ©e avec succÃ¨s !"

# Chaque .c â†’ exÃ©cutable dans /bin
$(BIN_DIR)/%: $(SRC_DIR)/%.c
	@mkdir -p $(BIN_DIR)
	$(CC) $(CFLAGS) $< -o $@
	@echo "ðŸ”§ CompilÃ© : $< â†’ $@"

# Permet "make ft_div_mod" sans Ã©crire "bin/"
%: $(BIN_DIR)/%
	@true

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#  Nettoyage
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
clean:
	rm -f $(BIN_DIR)/*

re: clean all

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#  Lancer un binaire : make run file=ft_div_mod
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
run:
	@./$(BIN_DIR)/$(file)

.PHONY: all clean re run
